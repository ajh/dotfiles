"Get out of the stone age
set nocompatible

"Use comma instead of backslash for leader commands
let mapleader = ","

"Load pathogen bundles then configure filetype support
filetype off
call pathogen#runtime_append_all_bundles()
call pathogen#helptags()
filetype plugin indent on

"no line numbers
set nonumber

"Highlight tabs and trailing whitespace
set list
set listchars=tab:➙.,trail:.,extends:❱,precedes:❰,nbsp:░

"Allow directory .vimrc files and disable unsafe commands in local .vimrc files
set exrc
set secure

"allow hidden buffers which does stuff like preserve undo history
set hidden

"Use backups, but dont' try to have them be in .vim because of filename
"conflicts.
"set backup
"set backupdir=~/.vim/backup
"set directory=~/.vim/swap

"set up bash-style tab-completion
set wildmode=list:longest

"Have modal and state stuff be visible
set showcmd
set showmode
set ruler

"More history
set history=1000

"Some shortcuts
" * scroll up and down 10 lines at a time
noremap <C-K> 10k
noremap <C-J> 10j

"purty colors
syntax on
colorscheme slate

"load matchit plugin (needs a system install version of matchit.)
runtime! macros/matchit.vim

"NERD tree plugin
map <leader>d :execute 'NERDTreeToggle ' . getcwd()<CR>

"CommandT
let g:CommandTMatchWindowAtTop=1
"map <leader>f :CommandTFlush "not sure why this doesn't work

"Use my aliased grep that excludes svn directores amoung other things
set grepprg=rails-grep\ --line-number\ $*\ /dev/null

"I'm starting to think I always want these...
set shiftwidth=2
set tabstop=2
set expandtab

"Have :!{cmd} use an interactive shell so I have my shopts and aliases
set shellcmdflag=-ic

"Rspec quickfix setup
map <leader>e :cfile tmp/quickfix<CR>
set errorformat=
    \%-Z\ \ \ \ \ \#\ %f:%l%.%#,%E\ \ %\\d%\\+)%.%#,%C%m,%Z,
    \%-Z%f:%l:%.%#,%E%\\d%\\+)%.%#,%C%m,%Z,
    \%+W'%.%#'\ FAILED,
    \%+I'%.%#'\ FIXED,
    \%-Cexpected:%.%#,
    \%-C\ \ \ \ \ got:%.%#,
    \%E%.%#:in\ `load':\ %f:%l:%m,
    \%C%f:%l:,
    \%W%f:%l:\ warning:\ %m,
    \%E%f:%l:in\ %*[^:]:\ %m,
    \%E%f:%l:\ %m,
    \%-Z%\tfrom\ %f:%l,
    \%-Z%p^%.%#,
    \%C%.%#,
    \%-G%.%#

"Window shortcuts
map <leader>v :vsp<CR>
map <leader>s :sp<CR>

"iTerm2 seems to work with a mouse over ssh
set mouse=a

"I often want this. Most code syntax plugins are smart enough to only
"spellcheck in comments.
set spell
